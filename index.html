<html>
    <head>
        <title>Szinekura</title>
        <script src="lib/seedrandom.min.js"></script>
        <script src="lib/DragDropTouch.js"></script>
        <script src="colours.js"></script>
        <script src="state.js"></script>
        <script src="game.js"></script>
        <style>

           body {
                display: flex;
                flex-wrap: nowrap;
            }

            body > div {
                flex-grow: 1;
                flex-shrink: 1;
                flex-basis: 0;
            }

            @media screen and (orientation: portrait) {
                body {
                    flex-direction: column;
                }

                body > div {
                    height: 50vw;
                }

                #scoreDiv {
                    font-size: 7vw;
                }

                #scoreDiv .title {
                    font-size: 12vw;
                }

                #game-form input {
                    font-size:5vw;
                }
                #game-form button {
                    font-size:5vw;
                }

                #game h1 {
                    font-size: 5vw;
                }

                #game p {
                    font-size:3vw;
                }

                #better-than {
                    font-size:3vw;
                }
            }

            @media screen and (orientation: landscape) {
                body {
                    flex-direction: row;
                }

                body > div {
                    width: 50vw;
                }

                #scoreDiv {
                    font-size: 4vw;
                }

                #scoreDiv .title {
                    font-size: 8vw;
                }

                #game-form input {
                    font-size:3vw;
                }

                #game-form button {
                    font-size:3vw;
                }

                #game h1 {
                    font-size: 3vw;
                }

                #game p {
                    font-size:2vw;
                }

                #better-than {
                    font-size:2vw;
                }
            }

            #scoreboard {
                display: flex;
                flex-wrap: nowrap;
                flex-direction: row;
            }

            #scoreboard > div {
                flex-grow: 1;
                flex-shrink: 1;
                flex-basis: 0;
            }

            #scoreDiv {
                font-weight: bold;
                text-align: center;
            }

            #game div {
                width: 16%;
                height: 16%;
                display: inline-block;
            }

            #progress-bar {
                width: 100%;
                border: 1px solid black;
                height: 1vw;
            }

            #progress {
                width: 0%;
                height: 100%;
                overflow: hidden;
                background-color: black;
            }

            #scoreDiv {
                display: flex;
                flex-wrap: nowrap;
                flex-direction: column;
            }

            #achievement-bar {
                margin-top:auto; 
                margin-bottom:1vw;
            }

        </style>
    </head>
    <body onload="start()">
        <div id="game">
            <h1>Szinekura</h1>
            <p>
                The objective of this game is to minimise the overall colour difference between the squares by dragging the similar ones next to each other.
            </p>
            <p>
                The lower your <b>Score</b>, the better you're doing <i>(yeah, it's that kind of game)</i>, and you can check how your score would change
                while dragging under <b>Delta</b>.
            </p>
            <p>
                You can start the game by typing in a "board code" and clicking <b>Start</b>. The "board code" can be anything you like â€“ the same code
                will always give you the same board. This also allows you to replay boards or share particularly tricky ones with your friends. <i>(Which you're unlikely to have if you're playing this game.)</i>
            </p>
        </div>
        <div id="scoreDiv">
                <div class="title">Board</div>
                <div>
                    <form id="game-form">
                        <input type="text" id="game-seed" placeholder="Enter board code here"/>
                        <button id="start">Start</button>
                    </form>
                    <div id="loadstatus" style="display: none">The robots are playing first.</div>
                </div>
                <div id="scoreboard">
                    <div>
                        <div class="title">Score</div>
                        <span id="score">---</span>
                    </div>
                    <div>
                        <div class="title">Delta</div>
                        <span id="delta">---</span>
                    </div>
                </div>
                <div id="achievement-bar">
                    <div id="better-than"></div>
                    <div id="progress-bar"><div id="progress">&nbsp;</div></div>
                </div>
            </div>
        </body>
</html>